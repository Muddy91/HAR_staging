<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<style>
/* CSS code for loading symbol from [^1^][7] */
.se-pre-con {
  position: fixed;
  left: 0px;
  top: 0px;
  width: 100%;
  height: 100%;
  z-index: 9999;
  background: url(https://smallenvelop.com/wp-content/uploads/2014/08/Preloader_2.gif) center no-repeat #fff;
}

/* CSS code for form styling from [^2^][13] */
form {
    margin-top:50px;
    margin-left:auto;
    margin-right:auto;
    width:500px; 
    padding:20px; 
    border-radius:10px; 
    box-shadow:0px 0px 15px #888888; 
}

input[type=text], input[type=number] {
    width:100%; 
    padding-top:10px; 
    padding-bottom:10px; 
    border-radius:5px; 
    border:none; 
}

input[type=submit] {
    width:auto; 
    padding-top:10px; 
    padding-bottom:10px; 
    border-radius:5px;  
}

/* CSS code for response box styling */
#response {
   margin-top:50px;
   margin-left:auto;
   margin-right:auto;
   width:auto;  
   padding-top:20px;  
   padding-bottom :20 px ;  
   border-radius :10 px ;  
   box-shadow :0 px 0 px 15 px #888888 ;  
}
</style>
<script>
$(window).on('load', function() {
	// Animate loader off screen
	$(".se-pre-con").fadeOut("slow");;
});
function submitForm() {
    // Show loading symbol
    $(".se-pre-con").show();
    
     // Clear previous response
     document.getElementById("response").innerHTML = "";
     
     // Get form values
     var video_uid = document.getElementById("video_uid").value;
     var video_len = document.getElementById("video_len").value;

     // Validate form values
     if (video_uid == "" || video_len == "") {
         alert("Please enter both parameters");
         $(".se-pre-con").hide();
         return false;
     }

     // Send request to endpoint
     var url = "https://cub3actionpredictor-uwlbw2mf2a-nw.a.run.app/predict?video_uid=" + video_uid + "&video_len=" + video_len;

      $.get(url, function(data, status){
          // Display response in a preformatted element
          document.getElementById("response").innerHTML = JSON.stringify(data, null, 4);
          // Hide loading symbol
          $(".se-pre-con").hide();
      });
}
</script>
</head>
<body>

<div class="se-pre-con"></div> <!-- Loading symbol div -->

<form onsubmit="return submitForm()">
 <h1>Video Parameters Form</h1>

 <label for="video_uid">Video UID:</label><br>
 <input type="text" id="video_uid" name="video_uid"><br><br>

 <label for="video_len">Video Length:</label><br>
 <input type="number" id="video_len" name="video_len"><br><br>

 <input type="submit" value="Submit">
</form>

<div id ="response"></div> <!-- Response element -->

</body>
</html>
